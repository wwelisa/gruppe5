<html><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<title>gruppe5: Camera Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="jquery.js"></script>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classCamera-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Camera Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6fdff39b68d5bf3c88b21ba0c94e6320"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCamera.html#a6fdff39b68d5bf3c88b21ba0c94e6320">callbackCamera</a> (const sensor_msgs::ImageConstPtr &amp;cameraImage)</td></tr>
<tr class="memdesc:a6fdff39b68d5bf3c88b21ba0c94e6320"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback des Camerasubscribers.  <a href="classCamera.html#a6fdff39b68d5bf3c88b21ba0c94e6320">More...</a><br /></td></tr>
<tr class="separator:a6fdff39b68d5bf3c88b21ba0c94e6320"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01f94c3543f56ede7af49dc778f19331"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCamera.html#a01f94c3543f56ede7af49dc778f19331">Camera</a> ()</td></tr>
<tr class="memdesc:a01f94c3543f56ede7af49dc778f19331"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a new <a class="el" href="classCamera.html">Camera</a>:: <a class="el" href="classCamera.html">Camera</a> object, subscribe to "sub_topic" and publish to "pub_cam_tf".  <a href="classCamera.html#a01f94c3543f56ede7af49dc778f19331">More...</a><br /></td></tr>
<tr class="separator:a01f94c3543f56ede7af49dc778f19331"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a801e5c5ee82e4e7412fa7ba53f8a9052"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCamera.html#a801e5c5ee82e4e7412fa7ba53f8a9052">first_measurement</a></td></tr>
<tr class="memdesc:a801e5c5ee82e4e7412fa7ba53f8a9052"><td class="mdescLeft">&#160;</td><td class="mdescRight">template Variable  <a href="classCamera.html#a801e5c5ee82e4e7412fa7ba53f8a9052">More...</a><br /></td></tr>
<tr class="separator:a801e5c5ee82e4e7412fa7ba53f8a9052"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca024929349dbdfa9b784c187749c44c"><td class="memItemLeft" align="right" valign="top">cv::Mat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCamera.html#aca024929349dbdfa9b784c187749c44c">m_cameraImage</a></td></tr>
<tr class="memdesc:aca024929349dbdfa9b784c187749c44c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Der actuelle Frame der Kamera.  <a href="classCamera.html#aca024929349dbdfa9b784c187749c44c">More...</a><br /></td></tr>
<tr class="separator:aca024929349dbdfa9b784c187749c44c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabd4df66125c8ba5f80d58be966e5b42"><td class="memItemLeft" align="right" valign="top">std_msgs::String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCamera.html#aabd4df66125c8ba5f80d58be966e5b42">output</a></td></tr>
<tr class="memdesc:aabd4df66125c8ba5f80d58be966e5b42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Zahl von 0-5, 0=Ball nicht im Bild, 1=Ball ganz links, ..., 5=Ball ganz rechts.  <a href="classCamera.html#aabd4df66125c8ba5f80d58be966e5b42">More...</a><br /></td></tr>
<tr class="separator:aabd4df66125c8ba5f80d58be966e5b42"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a22676ab8993f4cf203cc344dab55d2ce"><td class="memItemLeft" align="right" valign="top">cv::Mat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCamera.html#a22676ab8993f4cf203cc344dab55d2ce">imageCb</a> (const sensor_msgs::ImageConstPtr &amp;msg)</td></tr>
<tr class="memdesc:a22676ab8993f4cf203cc344dab55d2ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Konvertiert das Bild von einem sensor_msgs::ImageConstPtr&amp; zu einer cv::Mat.  <a href="classCamera.html#a22676ab8993f4cf203cc344dab55d2ce">More...</a><br /></td></tr>
<tr class="separator:a22676ab8993f4cf203cc344dab55d2ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af929087d74d9ded88de922f3d091906c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCamera.html#af929087d74d9ded88de922f3d091906c">ImageProcessing</a> ()</td></tr>
<tr class="memdesc:af929087d74d9ded88de922f3d091906c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bildverarbeitung gibt die umgefähre Position des Balls im Bild zurück.  <a href="classCamera.html#af929087d74d9ded88de922f3d091906c">More...</a><br /></td></tr>
<tr class="separator:af929087d74d9ded88de922f3d091906c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:af4fe12188af5f039b52af24375bac9d2"><td class="memItemLeft" align="right" valign="top">ros::Subscriber&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCamera.html#af4fe12188af5f039b52af24375bac9d2">sub_camera</a></td></tr>
<tr class="memdesc:af4fe12188af5f039b52af24375bac9d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subscriber für die Kamera.  <a href="classCamera.html#af4fe12188af5f039b52af24375bac9d2">More...</a><br /></td></tr>
<tr class="separator:af4fe12188af5f039b52af24375bac9d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a478e4df8c7515e00320f5794ef69137b"><td class="memItemLeft" align="right" valign="top">ros::Publisher&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCamera.html#a478e4df8c7515e00320f5794ef69137b">tf_pub</a></td></tr>
<tr class="memdesc:a478e4df8c7515e00320f5794ef69137b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Publisher für die erkannte Kugelposition.  <a href="classCamera.html#a478e4df8c7515e00320f5794ef69137b">More...</a><br /></td></tr>
<tr class="separator:a478e4df8c7515e00320f5794ef69137b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="camera_8cpp_source.html#l00050">50</a> of file <a class="el" href="camera_8cpp_source.html">camera.cpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a01f94c3543f56ede7af49dc778f19331"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01f94c3543f56ede7af49dc778f19331">&#9670;&nbsp;</a></span>Camera()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Camera::Camera </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct a new <a class="el" href="classCamera.html">Camera</a>:: <a class="el" href="classCamera.html">Camera</a> object, subscribe to "sub_topic" and publish to "pub_cam_tf". </p>
<p>Constructor wird beim Erstellen des Objects aufgerufen. Subscribed auf das Topic "sub_topic" -&gt; remap im launch file auf das Kamerabild des Fänger Roboters. <br  />
Erstellt den Publisher um die Position des Balls zu publishen. </p>

<p class="definition">Definition at line <a class="el" href="camera_8cpp_source.html#l00103">103</a> of file <a class="el" href="camera_8cpp_source.html">camera.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a6fdff39b68d5bf3c88b21ba0c94e6320"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fdff39b68d5bf3c88b21ba0c94e6320">&#9670;&nbsp;</a></span>callbackCamera()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Camera::callbackCamera </td>
          <td>(</td>
          <td class="paramtype">const sensor_msgs::ImageConstPtr &amp;&#160;</td>
          <td class="paramname"><em>cameraImage</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback des Camerasubscribers. </p>
<p>Callback des Camerasubscribers, wenn das Bild vorhanden ist (Breite größer als 0) wird es zuerst in ein cv::Mat konvertiert, und dann das Bild verarbeitet. <br  />
Am Ende wird das Ergebnis der Verarbeitung gepublished.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cameraImage</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="camera_8cpp_source.html#l00122">122</a> of file <a class="el" href="camera_8cpp_source.html">camera.cpp</a>.</p>

</div>
</div>
<a id="a22676ab8993f4cf203cc344dab55d2ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22676ab8993f4cf203cc344dab55d2ce">&#9670;&nbsp;</a></span>imageCb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cv::Mat Camera::imageCb </td>
          <td>(</td>
          <td class="paramtype">const sensor_msgs::ImageConstPtr &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Konvertiert das Bild von einem sensor_msgs::ImageConstPtr&amp; zu einer cv::Mat. </p>
<p>Macht aus dem Bild aus der sensor_msgs ein cv::Mat Bild welches zur weiteren Verarbeitung verwendet werden kann.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>Die aktuelle message mit den Kamerabildern </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>cv::Mat Das Bild der Kamera als cv::Mat </dd></dl>

<p class="definition">Definition at line <a class="el" href="camera_8cpp_source.html#l00078">78</a> of file <a class="el" href="camera_8cpp_source.html">camera.cpp</a>.</p>

</div>
</div>
<a id="af929087d74d9ded88de922f3d091906c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af929087d74d9ded88de922f3d091906c">&#9670;&nbsp;</a></span>ImageProcessing()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Camera::ImageProcessing </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Bildverarbeitung gibt die umgefähre Position des Balls im Bild zurück. </p>
<p>Das Bild (cv::Mat) wird zuerst Segmentiert. Dann werden von dem segmentierten Bild die Kanten mit canny() ermittelt. Aus den Kanten wird mittels findContours() die Konturen gefunden. Diese dienen als Input für minEllipse(), allen Konturen größer als 5 werden wird eine Ellipse "gefitted". Die breiteste Ellipse wird ermittelt und ihr Mittelpunkt dient wird in einen von 5 Bildabschnitten eingeteilt. Welcher Bildabschnitt ist der Output der Funktion und wird gepublished. <br  />
Wenn kein Ball im Bild erkannt wird wird 0 zurückgegeben. </p>

<p class="definition">Definition at line <a class="el" href="camera_8cpp_source.html#l00143">143</a> of file <a class="el" href="camera_8cpp_source.html">camera.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a801e5c5ee82e4e7412fa7ba53f8a9052"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a801e5c5ee82e4e7412fa7ba53f8a9052">&#9670;&nbsp;</a></span>first_measurement</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Camera::first_measurement</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>template Variable </p>

<p class="definition">Definition at line <a class="el" href="camera_8cpp_source.html#l00054">54</a> of file <a class="el" href="camera_8cpp_source.html">camera.cpp</a>.</p>

</div>
</div>
<a id="aca024929349dbdfa9b784c187749c44c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca024929349dbdfa9b784c187749c44c">&#9670;&nbsp;</a></span>m_cameraImage</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cv::Mat Camera::m_cameraImage</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Der actuelle Frame der Kamera. </p>

<p class="definition">Definition at line <a class="el" href="camera_8cpp_source.html#l00057">57</a> of file <a class="el" href="camera_8cpp_source.html">camera.cpp</a>.</p>

</div>
</div>
<a id="aabd4df66125c8ba5f80d58be966e5b42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabd4df66125c8ba5f80d58be966e5b42">&#9670;&nbsp;</a></span>output</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std_msgs::String Camera::output</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Zahl von 0-5, 0=Ball nicht im Bild, 1=Ball ganz links, ..., 5=Ball ganz rechts. </p>

<p class="definition">Definition at line <a class="el" href="camera_8cpp_source.html#l00056">56</a> of file <a class="el" href="camera_8cpp_source.html">camera.cpp</a>.</p>

</div>
</div>
<a id="af4fe12188af5f039b52af24375bac9d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4fe12188af5f039b52af24375bac9d2">&#9670;&nbsp;</a></span>sub_camera</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ros::Subscriber Camera::sub_camera</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Subscriber für die Kamera. </p>

<p class="definition">Definition at line <a class="el" href="camera_8cpp_source.html#l00065">65</a> of file <a class="el" href="camera_8cpp_source.html">camera.cpp</a>.</p>

</div>
</div>
<a id="a478e4df8c7515e00320f5794ef69137b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a478e4df8c7515e00320f5794ef69137b">&#9670;&nbsp;</a></span>tf_pub</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ros::Publisher Camera::tf_pub</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Publisher für die erkannte Kugelposition. </p>

<p class="definition">Definition at line <a class="el" href="camera_8cpp_source.html#l00064">64</a> of file <a class="el" href="camera_8cpp_source.html">camera.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="camera_8cpp_source.html">camera.cpp</a></li>
</ul>
</div><!-- contents -->

<br clear="all" />
<hr size="1"><div style="align: right;">
<a href="http://wiki.ros.org/gruppe5">gruppe5</a><br />
Author(s): </br />
<small>autogenerated on Wed Jan 25 2023 08:24:34</small>
</div>
</body>
</html>
